<?php

//////////////////////////////////////////////////////////////////////
////////////////////////////// NAMESPACES ////////////////////////////
//////////////////////////////////////////////////////////////////////

View::addLocation(__DIR__.'/views/layouts');
View::addLocation(__DIR__.'/views/partials');

//////////////////////////////////////////////////////////////////////
/////////////////////////////// ROUTES ///////////////////////////////
//////////////////////////////////////////////////////////////////////

Route::any('/', function() {
  return View::make('home');
});

// Display a category ---------------------------------------------- /

Route::any('category/{slug}', array('as' => 'category', 'do' => function($slug) {
  $category = Category::find($slug);

  return View::make('categories.'.$slug)
    ->with_category($category);
}));
